(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-type-user-type"],{"0ec9":function(t,e,n){"use strict";n.r(e);var i=n("f88c"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=o.a},1055:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"head flex"},[n("v-uni-navigator",{staticClass:"back_img flex",attrs:{"open-type":"navigateBack"}},[n("v-uni-image",{attrs:{src:"/static/images/back.png",mode:""}}),n("v-uni-text",[t._v("返回")])],1),n("v-uni-view",{staticClass:"header-title"},[n("v-uni-text",[t._v(t._s(t.title))])],1)],1)},o=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o})},"15c7":function(t,e,n){"use strict";n.r(e);var i=n("89b6"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=o.a},"2ffc":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.head[data-v-1ca00430]{position:fixed;left:0;top:0;width:100%;height:%?71?%;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;border-bottom:%?2?% solid #e5e5e5;background:#fff;z-index:999}.head .back_img[data-v-1ca00430]{height:100%;width:%?120?%;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.head .back_img uni-image[data-v-1ca00430]{width:%?20?%;height:%?28?%;margin:0 %?10?%}.head .header-title[data-v-1ca00430]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;padding-right:%?120?%;text-align:center}',""])},3708:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{},[t._l(t.newList,function(e,i){return n("v-uni-view",{key:i,staticClass:"post-item",on:{click:function(n){n=t.$handleEvent(n),"detail"!=t.pstype&&t.toPostDetail(e.postingid)}}},[n("v-uni-view",{staticClass:"post-info flex"},[n("v-uni-view",{staticClass:"flex-left flex"},[n("v-uni-image",{staticClass:"user-img",attrs:{src:e.headimgurl},on:{click:function(n){n.stopPropagation(),n=t.$handleEvent(n),t.toUser(e.userid)}}}),n("v-uni-view",{staticClass:"name_time flex"},[n("v-uni-view",{staticClass:"name_time-box flex"},[n("v-uni-text",[t._v(t._s(e.nickname))]),e.gradename?n("v-uni-view",[t._v(t._s(1==e.gradename?"新秀":2==e.gradename?"大侠":3==e.gradename?"英雄":""))]):t._e()],1),n("v-uni-view",{staticClass:"post-time"},[t._v(t._s(e.postingtime))])],1)],1),n("v-uni-view",{staticClass:"flex-right flex"})],1),e.content?n("uParse",{staticClass:"post-comment",attrs:{pstype:"list",content:e.content}}):t._e(),n("v-uni-view",{staticClass:"post-images",style:e.imgurls.length?e.content?"padding-bottom:10rpx":"padding-top:20rpx;padding-bottom:10rpx":"margin-top:0;padding-bottom:20rpx"},t._l(e.imgurls,function(i,o){return n("v-uni-image",{key:o,style:e.imgurls.length>1?"width:220rpx;height:220rpx":"width:250rpx;height:250rpx;",attrs:{src:i,mode:"aspectFill"},on:{click:function(n){n.stopPropagation(),n=t.$handleEvent(n),t.previewImage(i,e.imgurls)}}})}),1),e.vediourl?n("v-uni-view",{staticClass:"post-video pos-rel"},[n("v-uni-video",{attrs:{id:"myVideo",controls:"true",src:e.vediourl}})],1):t._e(),n("v-uni-view",{staticClass:"post-btns flex"},[n("v-uni-view",{staticClass:"post-btns-box flex"},[n("v-uni-view",{staticClass:"reply flex"},["detail"!=t.pstype?n("v-uni-image",{attrs:{src:"/static/images/reply.png",mode:""}}):t._e(),"detail"!=t.pstype?n("v-uni-text",[t._v(t._s(e.commentcount))]):t._e()],1),n("v-uni-view",{staticClass:"like flex",on:{click:function(n){n.stopPropagation(),n=t.$handleEvent(n),t.handleLike(e.collectionstate,e.postingid,i)}}},["detail"!=t.pstype?n("v-uni-image",{attrs:{src:"/static/images/"+(1==e.fabulousstate?"like_light":"like")+".png",mode:""}}):t._e(),e.fabulouscount>0&&"detail"!=t.pstype?n("v-uni-text",{staticStyle:{color:"#888"}},[t._v(t._s(e.fabulouscount))]):t._e(),0==e.fabulouscount&&"detail"!=t.pstype?n("v-uni-text",{staticStyle:{color:"#888"}},[t._v("赞")]):t._e()],1),n("v-uni-view",{staticClass:"collects flex",on:{click:function(n){n.stopPropagation(),n=t.$handleEvent(n),t.handleCollect(e.collectionstate,e.postingid,i)}}},[n("v-uni-image",{attrs:{src:"/static/images/"+(1==e.collectionstate?"collect_light":"collect")+".png",mode:""}}),n("v-uni-text",[t._v("收藏")])],1)],1)],1),"list"==t.pstype&&t.list[i].replyList.length?n("v-uni-view",{staticClass:"reply-msg"},[t._l(t.list[i].replyList,function(e,i){return n("v-uni-view",{key:i,staticClass:"reply-item"},[i<3?n("v-uni-view",{staticClass:"reply-name flex"},[n("v-uni-text",{staticClass:"name"},[t._v(t._s(e.username))]),e.touserid?n("v-uni-text",[t._v("回复")]):t._e(),e.touserid?n("v-uni-text",{staticClass:"name"},[t._v(t._s(e.tousername))]):t._e(),t._v("："),e.commentcontent?n("uParse",{staticClass:"user-comment",staticStyle:{"line-height":"40rpx","font-size":"24rpx"},attrs:{pstype:"list",content:e.commentcontent}}):t._e()],1):t._e()],1)}),t.list[i].replyList.length>3?n("v-uni-view",{staticClass:"reply-all"},[t._v("查看全部"+t._s(t.list[i].replyList.length)+"条回复")]):t._e()],2):t._e()],1)}),t.isShowCollect?n("v-uni-view",{staticClass:"collect-mask",on:{click:function(e){e=t.$handleEvent(e),t.handleShowCollect(!1)}}}):t._e()],2)},o=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o})},"384b":function(t,e,n){"use strict";n.r(e);var i=n("9a35"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=o.a},4963:function(t,e,n){var i=n("2ffc");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("076d4457",i,!0,{sourceMap:!1,shadowMode:!1})},"4ae1":function(t,e,n){"use strict";n.r(e);var i=n("d821"),o=n("15c7");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("c32c");var s=n("2877"),r=Object(s["a"])(o["default"],i["a"],i["b"],!1,null,"3678ff47",null);e["default"]=r.exports},"4eff":function(t,e,n){"use strict";var i=n("9dcd"),o=n.n(i);o.a},"50d3":function(t,e,n){"use strict";var i=n("4963"),o=n.n(i);o.a},"57da":function(t,e,n){var i=n("9c41");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("658b0aa6",i,!0,{sourceMap:!1,shadowMode:!1})},"5b68":function(t,e,n){"use strict";n.r(e);var i=n("1055"),o=n("384b");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("50d3");var s=n("2877"),r=Object(s["a"])(o["default"],i["a"],i["b"],!1,null,"1ca00430",null);e["default"]=r.exports},"7e44":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getQuery=e.formatTime=void 0;var i=function(t){var e,n=new Date(t);e=n.getFullYear()+".";var i=(n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1)+".",o=(n.getDate()<10?"0"+n.getDate():n.getDate())+" ",a=(n.getHours()<10?"0"+n.getHours():n.getHours())+":",s=(n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes())+":",r=(n.getSeconds()<10?n.getSeconds():n.getSeconds(),e+i+o+a+s);return r.substring(0,r.length-1)};e.formatTime=i;var o=function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(e);return null!=n?unescape(n[2]):null};e.getQuery=o},"89b6":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n("a34a")),o=r(n("b5d4")),a=r(n("5b68")),s=n("3e16");function r(t){return t&&t.__esModule?t:{default:t}}function l(t){return d(t)||u(t)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function u(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function d(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function p(t,e,n,i,o,a,s){try{var r=t[a](s),l=r.value}catch(c){return void n(c)}r.done?e(l):Promise.resolve(l).then(i,o)}function f(t){return function(){var e=this,n=arguments;return new Promise(function(i,o){var a=t.apply(e,n);function s(t){p(a,i,o,s,r,"next",t)}function r(t){p(a,i,o,s,r,"throw",t)}s(void 0)})}}var g={components:{postItem:o.default,headerBack:a.default},data:function(){return{type:"",page:1,number:8,showLoading:!1,moreLoading:0,postList:[]}},onLoad:function(t){if(t.type)switch(this.type=t.type,t.type){case"search":this.searchWord=t.searchWord,document.title="搜索结果";break;case"collect":document.title="我的收藏";break}this.getData()},onShow:function(){},mounted:function(){},methods:{getData:function(){var t=f(i.default.mark(function t(e){var n,o,a,r;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:"more"!=e&&"pull"!=e&&(this.showLoading=!0),t.t0=this.type,t.next="search"===t.t0?4:"collect"===t.t0?8:12;break;case 4:return t.next=6,(0,s.SearchPost)({pageNumber:this.page,pageSize:this.number,content:this.searchWord,userid:uni.getStorageSync("userInfo").userid});case 6:return n=t.sent,t.abrupt("break",12);case 8:return t.next=10,(0,s.UserCollection)({pageNumber:this.page,pageSize:this.number,userid:uni.getStorageSync("userInfo").userid});case 10:return n=t.sent,t.abrupt("break",12);case 12:if(n){for(o in n=n.data,n.length<this.number?this.moreLoading=2:this.moreLoading=0,n.data)if(n[o].replyList=[],n[o].postingAllInfoForCommentVos)for(r in a=n[o].postingAllInfoForCommentVos,a)a[r].postingid==n[o].postingid&&n[o].replyList.push(a[r]);this.postList="more"==e?[].concat(l(this.postList),l(n)):n}this.showLoading=!1,"pull"==e&&uni.stopPullDownRefresh();case 15:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),handPostEdit:function(t){this.postList=t}},onReachBottom:function(){2!=this.moreLoading&&(this.page++,this.moreLoading=1,this.getData("more"))},onPullDownRefresh:function(){this.page=1,this.getData("pull")}};e.default=g},9126:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.post-item[data-v-46274633]{background:#fff;padding:0 %?25?%;margin-top:%?10?%;padding-top:%?20?%;padding-bottom:%?20?%}.post-item[data-v-46274633]:first-child{margin-top:0}.post-item .post-info[data-v-46274633]{height:%?80?%;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.post-item .post-info .flex-left .user-img[data-v-46274633]{width:%?80?%;height:%?80?%;margin-right:%?30?%}.post-item .post-info .flex-left .name_time[data-v-46274633]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.post-item .post-info .flex-left .name_time .name_time-box[data-v-46274633]{-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.post-item .post-info .flex-left .name_time .name_time-box uni-text[data-v-46274633]{line-height:%?50?%;font-weight:700;margin-right:%?10?%}.post-item .post-info .flex-left .name_time .name_time-box uni-view[data-v-46274633]{width:%?70?%;height:%?30?%;text-align:center;line-height:%?30?%;color:#ff964b;background:rgba(250,150,75,.2);font-size:%?22?%;font-weight:700}.post-item .post-info .flex-left .post-time[data-v-46274633]{color:#888;font-size:%?24?%}.post-item .post-info .flex-right[data-v-46274633]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.post-item .post-info .flex-right .post-click_img[data-v-46274633]{width:%?44?%;height:%?24?%}.post-item .post-info .flex-right .post-click[data-v-46274633]{color:#888;margin-top:%?10?%}.post-item .post-comment[data-v-46274633]{line-height:%?40?%;font-size:%?26?%;padding:%?10?% 0;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical}.post-item .post-images uni-image[data-v-46274633]{margin-right:%?10?%;vertical-align:top;margin-top:%?10?%}.post-item .post-images uni-image[data-v-46274633]:nth-child(3n+3){margin-right:0}.post-item .post-images uni-image[data-v-46274633]:first-child,.post-item .post-images uni-image[data-v-46274633]:nth-child(2),.post-item .post-images uni-image[data-v-46274633]:nth-child(3){margin-top:0}.post-item .post-video uni-video[data-v-46274633]{width:100%;height:%?450?%}.post-item .post-btns[data-v-46274633]{height:%?88?%;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}.post-item .post-btns .post-btns-box[data-v-46274633]{width:%?334?%;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.post-item .post-btns .post-btns-box>uni-view[data-v-46274633]{-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.post-item .post-btns .post-btns-box>uni-view uni-image[data-v-46274633]{width:%?28?%;height:%?28?%}.post-item .post-btns .post-btns-box>uni-view uni-text[data-v-46274633]{margin-left:%?8?%;color:#888;line-height:1;font-size:%?22?%}.reply-msg[data-v-46274633]{width:%?690?%;margin:0 auto;padding:%?16?% %?25?% %?20?% %?30?%;-webkit-box-sizing:border-box;box-sizing:border-box;background:#f5f5f5}.reply-msg .reply-item[data-v-46274633]{margin-top:%?18?%}.reply-msg .reply-item[data-v-46274633]:first-child{margin-top:0}.reply-msg .reply-item .reply-name .name[data-v-46274633]{color:#333;white-space:nowrap}.reply-msg .reply-item .reply-name uni-text[data-v-46274633]{color:#888;line-height:%?40?%;font-size:%?24?%}.reply-msg .reply-item .reply-name .user-comment[data-v-46274633]{overflow:hidden;white-space:nowrap;-o-text-overflow:ellipsis;text-overflow:ellipsis}.reply-msg .reply-all[data-v-46274633]{color:#888;font-size:%?26?%;margin-top:%?18?%}.collect[data-v-46274633]{position:fixed;left:0;bottom:0;width:100%;height:%?180?%;z-index:1000}.collect uni-view[data-v-46274633]{width:%?720?%;margin:0 auto;height:%?80?%;text-align:center;background:#fff;border-radius:%?8?%;line-height:%?80?%}.collect .collect-btn[data-v-46274633]{color:red}.collect .cancel-btn[data-v-46274633]{color:#333;margin:%?10?% auto}.fadeCollect-enter-active[data-v-46274633]{-webkit-transition:height .3s;-o-transition:height .3s;transition:height .3s}.fadeCollect-leave-active[data-v-46274633]{-webkit-transition:height .5s;-o-transition:height .5s;transition:height .5s}.fadeCollect-enter[data-v-46274633],.fadeCollect-leave-to[data-v-46274633]{height:0}.collect-mask[data-v-46274633]{position:fixed;left:0;top:0;width:100vw;height:100vh;z-index:999;background:rgba(0,0,0,.6)}',""])},"9a35":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={components:{},props:{title:{type:String,value:""}},data:function(){return{}},onLoad:function(t){},onShow:function(){},mounted:function(){},methods:{},onReachBottom:function(){},onPullDownRefresh:function(){}};e.default=i},"9c41":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.container[data-v-3678ff47]{background-color:#f3f3f3;min-height:100vh;padding-top:%?70?%;-webkit-box-sizing:border-box;box-sizing:border-box}.noResult[data-v-3678ff47]{padding-top:%?100?%;text-align:center}.more-loading[data-v-3678ff47]{background:#f3f3f3}',""])},"9dcd":function(t,e,n){var i=n("9126");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("3c6d6212",i,!0,{sourceMap:!1,shadowMode:!1})},b5d4:function(t,e,n){"use strict";n.r(e);var i=n("3708"),o=n("0ec9");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("4eff");var s=n("2877"),r=Object(s["a"])(o["default"],i["a"],i["b"],!1,null,"46274633",null);e["default"]=r.exports},c32c:function(t,e,n){"use strict";var i=n("57da"),o=n.n(i);o.a},d821:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"container"},[n("headerBack",{attrs:{title:"顺峰山公园"}}),t.showLoading?n("v-uni-button",{staticClass:"more-loading sub-button clear-button flex",attrs:{loading:"true"}},[t._v("加载中...")]):t._e(),t.showLoading?t._e():n("v-uni-view",{staticClass:"post"},[n("postItem",{attrs:{list:t.postList,pstype:t.type},on:{postEdit:function(e){e=t.$handleEvent(e),t.handPostEdit(e)}}})],1),t.showLoading||t.postList.length?t._e():n("v-uni-view",{staticClass:"noResult"},["search"==t.type?[n("v-uni-view",{},[t._v("很抱歉！没有搜索到相关内容！")]),n("v-uni-view",{},[t._v("但是，您可以再试试其他关键字。")])]:t._e(),"reply"==t.type?[n("v-uni-view",{},[t._v("你还没有回复过任何帖子~")]),n("v-uni-view",{},[t._v("先去大厅逛逛吧!")])]:t._e(),"collect"==t.type?[n("v-uni-view",{},[t._v("你还没有收藏过任何帖子。")])]:t._e()],2),!t.showLoading&&t.postList.length?n("v-uni-button",{staticClass:"more-loading sub-button clear-button flex",attrs:{loading:1==t.moreLoading}},[t._v(t._s(0==t.moreLoading?"上拉显示更多":1===t.moreLoading?"加载中...":"没有更多帖子了哦！"))]):t._e()],1)},o=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o})},f88c:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n("a34a")),o=r(n("3b2c")),a=n("7e44"),s=n("3e16");function r(t){return t&&t.__esModule?t:{default:t}}function l(t,e,n,i,o,a,s){try{var r=t[a](s),l=r.value}catch(c){return void n(c)}r.done?e(l):Promise.resolve(l).then(i,o)}function c(t){return function(){var e=this,n=arguments;return new Promise(function(i,o){var a=t.apply(e,n);function s(t){l(a,i,o,s,r,"next",t)}function r(t){l(a,i,o,s,r,"throw",t)}s(void 0)})}}var u={data:function(){return{isShowCollect:!1,currentCollectId:"",newList:[]}},components:{uParse:o.default},props:{list:{type:Array,value:[]},pstype:{type:String,default:"list"}},computed:{},watch:{list:{handler:function(t,e){this.handleData(t)},deep:!0}},onLoad:function(t){},onShow:function(){},mounted:function(){this.handleData()},methods:{handleData:function(t){var e=JSON.parse(JSON.stringify(this.list));for(var n in e){if(e[n].postingtime=(0,a.formatTime)(e[n].postingtime),e[n].headimgurl=e[n].headimgurl,e[n].imgurl)for(var i in e[n].imgurls=e[n].imgurl.split(","),e[n].imgurls)e[n].imgurls[i]=this.$globalData.uploadImgUrl+e[n].imgurls[i];else e[n].imgurls=[];e[n].vediourl&&(e[n].vediourl=this.$globalData.uploadHeadImgUrl+e[n].vediourl)}this.newList=e},preventTap:function(){},previewImage:function(t,e){uni.previewImage({current:t,urls:e})},handleLike:function(){var t=c(i.default.mark(function t(e,n,o){var a,r,l;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a=uni.getStorageSync("userInfo"),a&&a.userid){t.next=5;break}this.confirmLogin(),t.next=9;break;case 5:return t.next=7,(0,s.LikePost)({postingid:n,userid:uni.getStorageSync("userInfo").userid});case 7:r=t.sent,r&&(l=this.list,1==l[o].fabulousstate?(l[o].fabulousstate=2,l[o].fabulouscount--):(l[o].fabulousstate=1,l[o].fabulouscount++),this.$emit("postEdit",l));case 9:case"end":return t.stop()}},t,this)}));function e(e,n,i){return t.apply(this,arguments)}return e}(),handleCollect:function(t,e,n){var i=this,o=uni.getStorageSync("userInfo");o&&o.userid?uni.showModal({title:1==t?"取消收藏":"收藏",content:1==t?"是否取消收藏":"是否收藏",success:function(o){o.confirm&&(0,s.CollectPost)({postingid:e,userid:uni.getStorageSync("userInfo").userid}).then(function(e){if(e){uni.showToast({title:1==t?"取消收藏成功":"收藏成功",icon:"none"});var o=i.list;o[n].collectionstate=1==t?0:1,i.$emit("postEdit",o),i.isShowCollect=!1}})}}):this.confirmLogin()},confirmLogin:function(){uni.showModal({title:"登录提示",content:"您暂未登录，是否去登录",success:function(t){t.confirm&&uni.redirectTo({url:"/pages/login/login"})}})},toPostDetail:function(t){uni.navigateTo({url:"/pages/post-detail/post-detail?id=".concat(t)})},toUser:function(t){var e=getCurrentPages(),n=e[e.length-1].route;"pages/user/user"!=n&&uni.navigateTo({url:"/pages/user/user?id=".concat(t)})}},onReachBottom:function(){},onPullDownRefresh:function(){}};e.default=u}}]);